#### vite 学习问题

1. 为什么 package.json 中的 type 字段为 module ？

2. vite 插件机制是怎么样的？

3. 预编译构建过程是怎么样的?

4. 预构建的时候模块的依赖关系是怎么样获取到的？ 

5. esbuild 工作原理是咋样的? 

6. 预构建主要是将依赖的三方库从 cjs 转化为 esm。 

7. 每次启动时，如何判断需要是否需要预构建？上一次预构建的内容是否可以使用？

    vite 开发模式下，如果设置 server.force 为 true，那么每次启动的时候都会预构建。

    如果设置 server.force 为 false，开发模式每次启动时，会先检查原来的预构建是否发生变化。如果没有预构建的内容，那么进行预构建；如果有预构建内容，则需要检查原来的预构建内容是否可用。

    如何判断预构建内容是否发生了变化：检查 vite.config.js 和 .lock 文件的内容是否发生了变化。如果没有变化，说明上一次的预构建内容可以使用。

    具体检查的过程: 通过 .lock 文件的内容和 vite.config.js 的内容，生成一个 md5 码。
