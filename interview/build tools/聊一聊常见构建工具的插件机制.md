---
theme: cyanosis
---

本文为稀土掘金技术社区首发签约文章，14天内禁止转载，14天后未获授权禁止转载，侵权必究！

<h3>前言</h3>

之前在老项目中尝试接入 `Vite` 的时候，小编遇到了一个源文件 `url` 解析的问题。为了解决这个问题，小编自己动手写了一个插件。整个过程可以说是非常顺利，写的插件也达到了预期的目的。不过就在接入改造进入尾声的时候，小编心血来潮的为这个插件添加了 `enforce: 'pre'` 配置项，结果整个项目就报错运行不起来了。

这个问题的出现，引起了小编很大的兴趣。经过研究，小编找到了问题出现的原因，并在研究过程中，结合之前 `Webpack`、`Rollup` 等构建工具插件的使用经验，发现了这些构建工具插件机制的一些通用套路，收获直接拉满。

在这里，小编将对上面所述的问题、问题出现的原因以及构建工具插件机制的通用套路做一个详细梳理，希望能同样给到大家一些不一样的收获。

本文的目录结构如下:
- **<a href="#1">背景介绍</a>**
- **<a href="#2">Webpack 的插件机制</a>**
- **<a href="#3">Rollup 的插件机制</a>**
- **<a href="#4">Vite 的插件机制</a>**
- **<a href="#5">Esbuild 的插件机制</a>**
- **<a href="#6">结束语</a>**

<h3 id="1">背景介绍</h3>

透过这些表现，小编发现当前主流构建工具的插件机制无非

<h3 id="2">Webpack 的 plugin 机制</h3>

<h3 id="3">Rollup 的 plugin 机制</h3>

<h3 id="4">Esbuild 的 plugin 机制</h3>

<h3 id="5">Vite 的 plugin 机制</h3>

<h3 id="6">结束语</h3>